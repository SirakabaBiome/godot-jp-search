{{- define "main" }}

{{ $file := "static/data/addon.json" }}

{{- if .Title }}
<header class="page-header">
    <h1>{{ .Title }}</h1>
    {{- if .Description }}
    <div class="post-description">
        {{ .Description }}
    </div>
    {{- end }}
</header>
{{- end }}

<article class="addon">
    <!--Ê¶ÇË¶Å-->
    <div style="margin: 0 0 1em 0;">
        <p>
            Godot Engine„ÅÆ„Ç¢„Éâ„Ç™„É≥„Çí‰∏ÄË¶ßË°®Á§∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ <a class="link" href="https://faultun.com/ko/addon">ÌïúÍµ≠Ïñ¥</a> <a
                class="link" href="https://faultun.com/en/addon">English</a>
        </p>

        <h3>
            „Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶
        </h3>

        <div class="collapse" data-collapse-toggle="gaiyou">
            <p>
                TODO Ê¶ÇË¶Å„ÅØ„Å©„Åì„Åã„Å´„ÅÑ„ÅÑÊÑü„Åò„Å´Êõ∏„Åè
                Ê¶ÇË¶Å„ÄÅË©ï‰æ°„Å™„Å©„ÅØ„Åô„Åπ„Å¶Á≠ÜËÄÖÔºà„Åµ„Åâ„Çã„ÅüÔºâ„Å´„Çà„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇ<br>
                „Åì„ÅÆ„Çµ„Ç§„Éà„ÅØÈùûÂÖ¨Âºè„Åß„Åô„ÄÇGodotÂÖ¨Âºè„ÉªGodot„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„Å®„ÅØÈñ¢‰øÇ„ÅÇ„Çä„Åæ„Åõ„Çì„ÅÆ„Åß„ÅîÊ≥®ÊÑè„Åè„Å†„Åï„ÅÑ„ÄÇ<br><br>
                Ë™§„Çä„ÇÑËøΩÂä†Ë¶ÅÊúõ„Åå„ÅÇ„Çå„Å∞„ÄÅ„Åì„Å°„Çâ„ÅÆ<a class="link" href="https://forms.gle/DgCmjtGSSNrNojGW6">Google
                Form</a>„Åã„Çâ„ÅäÁü•„Çâ„Åõ„Åè„Å†„Åï„ÅÑ„ÄÇ<br><br>
                Godot4„Äú„ÅÆ„ÇÇ„ÅÆ„ÇíÈÉΩÂ∫¶ËøΩÂä†„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ<br>
            </p>
            <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
            <hr>
            <p>
                ÂÄã‰∫∫ÁöÑ„Å™ËÄÉ„Åà<br>
                GitHub„ÅÆ„Çπ„Çø„ÉºÊï∞„ÅØ„Åù„Åì„Åæ„Åß„ÅÇ„Å¶„Å´„Å™„Çâ„Å™„ÅÑ„Å®ÊÄù„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇREADME„ÅÆÂ∞èÁ∂∫È∫ó„Åï„ÇÑyoutube„Å®„Åã„Åß„ÅØ„Å≠„Åü„Å†„Åë„ÅÆÂèØËÉΩÊÄß„ÇÇ„ÅÇ„Çã„ÅÆ„Åß‚Ä¶‚Ä¶<br>
                Ëá™ÂàÜ„ÅÆ„Ç≤„Éº„É†„Åß‰Ωø„Åà„Çã„Åã„Å©„ÅÜ„Åã„ÅßÂà§Êñ≠„Åô„Çã„ÅÆ„Åå‰∏ÄÁï™ÔºÅ<br><br>
                „Åæ„Åü„ÄÅ<img style="display: inline" gdicon src="/icon/AssetLib.svg" alt="AssetLib">AssetLib„Å´„Å™„ÅÑ„ÇÇ„ÅÆ„ÅåÊÑèÂ§ñ„Å®„Çπ„Çø„ÉºÊï∞„ÅåÂ∞ë„Å™„Åè„Å¶„ÇÇËâØ„ÅÑ„ÇÇ„ÅÆ„ÅåÂ§ö„ÅÑ„Ç§„É°„Éº„Ç∏„Åå„ÅÇ„Çã„ÅÆ„ÅßÊé¢„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>
            </p>
            <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
            <hr>
            <p>
                ‚òë„Çí„Å§„Åë„ÅüÁä∂ÊÖã„Åß„Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØ„Åô„Çã„Å®Ê§úÁ¥¢Êù°‰ª∂„Çí‰øùÂ≠ò„Åß„Åç„Åæ„Åô„ÄÇ<br>
            </p>
        </div>
    </div>

    {{ if (fileExists $file) }}
    {{ with (os.Stat $file) }}
    <p>ÊúÄÁµÇÊõ¥Êñ∞Êó•: {{ .ModTime.Format "2006-01-02" }}</p>
    {{ end }}
    {{ end }}

    <div class="filter-container">
        <details open>
            <summary>
                <h3>
                    Ê§úÁ¥¢Êù°‰ª∂
                </h3>
            </summary>
            <span class="pin-container">
                <button id="PinBtn" class="pin-btn" data-pin-btn>
                    üìå
                    Êù°‰ª∂„Çí‰∏ä„Å´Âõ∫ÂÆö„Åô„Çã
                </button>
                <span class="labal-pin">

                </span>
            </span>
            <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
            <hr>

            <!-- „Çø„Ç∞„Éï„Ç£„É´„Çø -->
            <div class="tag-filter">
                <div id="ForDuplicateExclude">
                    <details open>
                        <summary>
                            Â§ßÂàÜÈ°û
                        </summary>
                        <ul class="addon-tags" data-collapse-toggle="daibunrui">
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value="2d">
                                    <img gdicon src="/icon/Node2D.svg" alt="Node2D">
                                    2D
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value="3d"/>
                                    <img gdicon src="/icon/Node3D.svg" alt="Node3D">
                                    3D
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value="ui"/>
                                    <img gdicon src="/icon/Control.svg" alt="Control">
                                    UI
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value="other"/>
                                    <img gdicon src="/icon/Node.svg" alt="Node">
                                    ‰ªñ
                                    <sup></sup>
                                </label>
                            </li>
                        </ul>

                        <ul class="addon-tags" data-collapse-toggle="daibunrui">
                            <li>
                                <label data-not-tag-condition>
                                    <input class="checkTag" data-check-tag type="checkbox" name="specialTag"
                                           value="notdemo"/>
                                    <i class="fas fa-fw fa-do-not-enter"></i>
                                    „Éá„É¢„ÇíÈô§Â§ñ„Åô„Çã
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-not-tag-condition>
                                    <input class="checkTag" data-check-tag type="checkbox" name="specialTag"
                                           value="withsummary"/>
                                    <i class="fas fa-fw fa-comment"></i>
                                    Ê¶ÇË¶Å„ÉªËß£Ë™¨‰ªò„Åç
                                    <sup></sup>
                                </label>
                            </li>
                        </ul>
                    </details>
                    <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
                    <hr>

                    <details open>
                        <summary>
                            „Çà„Åè‰Ωø„ÅÑ„Åù„ÅÜ„Å™„Çø„Ç∞
                        </summary>
                        <ul class="addon-tags" data-collapse-toggle="specialtag">
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag"
                                           value="animation"/>
                                    <img gdicon src="/icon/AnimationPlayer.svg" alt="Animation">
                                    „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value="audio"/>
                                    <img gdicon src="/icon/AudioStream.svg" alt="AudioStream">
                                    „Ç™„Éº„Éá„Ç£„Ç™
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag"
                                           value="navigation"/>
                                    <img gdicon src="/icon/NavigationPolygon.svg" alt="NavigationPolygon">
                                    „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag"
                                           value="multiplayer"/>
                                    <img gdicon src="/icon/MultiplayerSynchronizer.svg" alt="MultiplayerSynchronizer">
                                    „Éû„É´„ÉÅ„Éó„É¨„Ç§
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value="network"/>
                                    <img gdicon src="/icon/MultiplayerSynchronizer.svg" alt="MultiplayerSynchronizer">
                                    „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value="shader"/>
                                    <img gdicon src="/icon/Shader.svg" alt="Shader">
                                    „Ç∑„Çß„Éº„ÉÄ„Éº
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value="xr"/>
                                    <img gdicon src="/icon/XRCamera3D.svg" alt="XRCamera3D">
                                    AR/VR
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value="physics"/>
                                    <img gdicon src="/icon/ViewportSpeed.svg" alt="Physics">
                                    Áâ©ÁêÜ
                                    <sup></sup>
                                </label>
                            </li>
                        </ul>

                        <ul class="addon-tags" data-collapse-toggle="specialtag">
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag"
                                           value="gdextension"/>
                                    GDExtension
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value="module"/>
                                    „É¢„Ç∏„É•„Éº„É´
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag"
                                           value="csharponly"/>
                                    C#„ÅÆ„Åø
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag"
                                           value="csharpwrapper"/>
                                    C#„É©„ÉÉ„Éë„Éº„ÅÇ„Çä
                                    <sup></sup>
                                </label>
                            </li>
                        </ul>
                        <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
                        <hr>

                        <ul class="addon-tags" data-collapse-toggle="specialtag">
                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag"
                                           value="editoronly"/>
                                    <img gdicon src="/icon/EditorPlugin.svg" alt="EditorPlugin">
                                    „Ç®„Éá„Ç£„Çø„ÅÆ„Åø
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-not-tag-condition>
                                    <input class="checkTag" data-check-tag type="checkbox" name="specialTag"
                                           value="assetlib"/>
                                    <img gdicon src="/icon/AssetLib.svg" alt="AssetLib">
                                    AssetLib„Å´„ÅÇ„Çã
                                    <sup></sup>
                                </label>
                            </li>
                            <li>
                                <label data-not-tag-condition>
                                    <input class="checkTag" data-check-tag type="checkbox" name="specialTag"
                                           value="notassetlib"/>
                                    <img gdicon src="/icon/AssetLib.svg" alt="AssetLib">
                                    AssetLib„Å´„Å™„ÅÑ
                                    <sup></sup>
                                </label>
                            </li>

                            <li>
                                <label data-not-tag-condition>
                                    <input class="checkTag" data-check-tag type="checkbox" name="specialTag"
                                           value="github"/>
                                    <i class="fab fa-fw fa-github"></i>
                                    GitHub
                                    <sup></sup>
                                </label>
                            </li>

                            <li>
                                <label data-not-tag-condition>
                                    <input class="checkTag" data-check-tag type="checkbox" name="specialTag"
                                           value="gitlab"/>
                                    <i class="fab fa-fw fa-gitlab"></i>
                                    GitLab
                                    <sup></sup>
                                </label>
                            </li>

                            <li>
                                <label data-commonly-tag>
                                    <input class="checkTag" data-check-tag type="checkbox" name="specialTag"
                                           value="other"/>
                                    <i class="fas fa-fw fa-link"></i>
                                    „Åù„ÅÆ‰ªñ„Çµ„Ç§„Éà
                                    <sup></sup>
                                </label>
                            </li>
                        </ul>

                    </details>
                    <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
                    <hr>

                    <details open>
                        <summary>
                            „É©„Ç§„Çª„É≥„Çπ‰ªñ
                        </summary>
                        <ul id="FilterLicenseTags" class="addon-tags" data-collapse-toggle="license">
                            <li data-license-tag-template style="display: none">
                                <label data-tag-label>
                                    <input class="checkTag" data-check-tag type="checkbox" name="licenseTag" value=""
                                           data-tag-checkbox/>
                                    <span data-tag-label-text></span>
                                    <sup data-tag-sup></sup>
                                </label>
                            </li>
                        </ul>
                    </details>
                    <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->

                    <hr>

                    <details open>
                        <summary>
                            „Çø„Ç∞
                        </summary>

                        <ul id="FilterTags" class="addon-tags" data-collapse-toggle="tag">
                            <li data-tag-template style="display: none">
                                <label data-tag-label>
                                    <input class="checkTag" data-check-tag type="checkbox" name="tag" value=""
                                           data-tag-checkbox/>
                                    <span data-tag-label-text></span>
                                    <sup data-tag-sup></sup>
                                </label>
                            </li>
                        </ul>
                    </details>

                </div>

                <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
                <hr>
                „Éï„Ç£„É´„ÇøÁµÑ„ÅøÂêà„Çè„ÅõÊñπÊ≥ï
                <!-- OR, And „ÅÆ„É©„Ç∏„Ç™„Éú„Çø„É≥ -->
                <div class="block">
                    <label for="FilterAnd">
                        <input type="radio" id="FilterAnd" name="filter" value="and" checked>
                        AND
                    </label>
                    <label for="FilterOr">
                        <input type="radio" id="FilterOr" name="filter" value="or">
                        OR
                    </label>
                </div>
                <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
                <hr>

                <details>
                    <summary>
                        Èô§Â§ñÊù°‰ª∂
                    </summary>
                    <div id="ExcludeTags" data-collapse-toggle="exclude" style="padding-left: 32px;">
                    </div>
                </details>
                <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
                <hr>

                <!-- „ÉØ„Éº„ÉâÊ§úÁ¥¢  -->

                <details open>
                    <summary>
                        „ÉØ„Éº„ÉâÊ§úÁ¥¢(ÈÉ®ÂàÜ‰∏ÄËá¥)
                    </summary>
                    <div class="addon-search" data-collapse-toggle="search">
                        <!-- „Éó„É´„ÉÄ„Ç¶„É≥„ÅßÂØæË±°„ÇíÈÅ∏Êäû title, author, summary -->
                        <select id="SearchTarget">
                            <option value="any" selected>
                                ÂÖ®„Å¶
                            </option>
                            <option value="title">
                                „Ç¢„Éâ„Ç™„É≥Âêç
                            </option>
                            <option value="author">
                                ‰ΩúËÄÖÂêç
                            </option>
                            <option value="summary">
                                Ê¶ÇË¶Å
                            </option>
                        </select>
                        <div id="searchbox">
                            <input id="SearchInput" placeholder="Ê§úÁ¥¢" type="text" autocomplete="off"
                                   oninput="update()">
                        </div>
                    </div>
                </details>
                <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
                <hr>


                <!-- Ë°®Á§∫È†Ü „ÅÆ„É©„Ç∏„Ç™„Éú„Çø„É≥ -->
                <div class="addon-andor" data-collapse-toggle="order">
                    <!-- „ÇØ„É™„Ç¢ -->
                    Êù°‰ª∂ÂÖ®ÂâäÈô§
                    <button class="clear-btn" onclick="clearAll()">
                        „Åô„Åπ„Å¶‚òë„ÇíÂ§ñ„Åô
                    </button>

                    Ë°®Á§∫È†Ü
                    <select id="addon-order">
                        <option name="order" value="updated-addon-desc" id="order-updated-addon-desc">
                            „Ç¢„Éâ„Ç™„É≥ÊúÄÊñ∞Êó•È†Ü
                        </option>
                        <option name="order" value="updated-addon-asc" id="order-updated-addon-asc">
                            „Ç¢„Éâ„Ç™„É≥Âè§„ÅÑÊó•È†Ü
                        </option>
                        <option name="order" value="add-addon-desc" id="order-add-addon-desc">
                            „Åì„ÅÆ‰∏ÄË¶ßÊõ¥Êñ∞ÊúÄÊñ∞È†Ü
                        </option>
                        <option name="order" value="add-addon-asc" id="order-add-addon-asc">
                            „Åì„ÅÆ‰∏ÄË¶ßÊõ¥Êñ∞Âè§„ÅÑÈ†Ü
                        </option>
                        <option name="order" value="stars-desc" id="order-stars-desc">
                            GitHub„Çπ„Çø„ÉºÊï∞Â§ö„ÅÑÈ†Ü
                        </option>
                        <option name="order" value="stars-asc" id="order-stars-asc">
                            GitHub„Çπ„Çø„ÉºÂ∞ë„Å™„ÅÑÈ†Ü
                        </option>
                        <option name="order" value="title-asc" id="order-title-asc">
                            „Ç¢„Éâ„Ç™„É≥Âêç„Ç¢„É´„Éï„Ç°„Éô„ÉÉ„ÉàÈ†Ü
                        </option>
                        <option name="order" value="title-desc" id="order-title-desc">
                            „Ç¢„Éâ„Ç™„É≥Âêç„Ç¢„É´„Éï„Ç°„Éô„ÉÉ„ÉàÈÄÜÈ†Ü
                        </option>
                        <option name="order" value="author-asc" id="order-author-asc">
                            ‰ΩúËÄÖÂêç„Ç¢„É´„Éï„Ç°„Éô„ÉÉ„ÉàÈ†Ü
                        </option>
                        <option name="order" value="author-desc" id="order-author-desc">
                            ‰ΩúËÄÖÂêç„Ç¢„É´„Éï„Ç°„Éô„ÉÉ„ÉàÈÄÜÈ†Ü
                        </option>
                    </select>
                </div>
                <!-- „Çª„Éë„É¨„Éº„Çø„Éº  -->
                <hr>

                Ë°®Á§∫ÂàóÊï∞
                <div id="ColControls" style="margin-top: 1em ;" class="addon-display-columns"
                     data-collapse-toggle="display-col">
                </div>
            </div>
        </details>
    </div>
    <!--Grid-->
    <div class="grid-container">
        {{ if (fileExists $file) }}
        {{ with (os.Stat $file) }}
        <p>ÊúÄÁµÇÊõ¥Êñ∞Êó•ÊôÇ: {{ .ModTime.Format "2006-01-02 15:04" }}</p>
        {{ end }}
        {{ end }}

        <!--„ÄÄ‰ª∂Êï∞ -->
        <div class="addon-count">
            <span id="AddonCount"></span>
        </div>

        <!-- JavaScript„Åã„ÇâDOMÊßãÁØâ„Åô„Çã„Åü„ÇÅ„ÅÆÁ©∫„ÅÆÊ§úÁ¥¢ÁµêÊûú‰∏ÄË¶ß„É™„Çπ„Éà -->
        <ul id="AddonFilteredList">
        </ul>

        <!-- „Ç¢„Éâ„Ç™„É≥„Ç´„Éº„Éâ„ÄÄ„ÉÜ„É≥„Éó„É¨„Éº„Éà -->
        <ul class="addon" style="display: none">
            <li>
                <span data-github-template><i class="fab fa-fw fa-github"></i></span>
                <span data-gitlab-template><i class="fab fa-fw fa-gitlab"></i></span>
                <span data-otherlink-template><i class="fas fa-fw fa-link"></i></span>
                <span data-star-template>‚òÖ </span>
            </li>
            <li class="addon sub-thumbnail" data-sub-thumbnail-template>
                <a href="" onclick="return showImagesLightBox();">
                    <img alt="" src=""/>
                </a>
            </li>
            <li data-template>
                <div class="addon addon-entry" style="transition: none">
                    <div class="addon post-div">
                        <header class="addon entry-header">
                            <div class="addon entry-header-row">
                                <h2 class="addon entry-hint-parent" data-entry-title>
                                    <a href="" target="_blank" data-entry-title-link>
                                        <span class="addon entry-icon" data-entry-icon></span>
                                    </a>
                                </h2>
                                <span class="addon entry-author-label" data-entry-author-label>
                                ‰ΩúËÄÖ:
                            </span>
                                <span class="addon entry-author" data-entry-author></span>
                            </div>
                            <!-- tags -->
                            <ul class="addon entry-tags" data-entry-tags>
                                <li class="addon entry-license" data-entry-license></li>
                            </ul>
                        </header>
                        <div class="addon entry-content">
                            <!-- „Çµ„É†„Éç„Ç§„É´ -->
                            <div class="addon entry-thumbnail">
                                <img src="" alt="" data-entry-thumbnail-image>
                            </div>
                            <div class="addon entry-main">
                                <!-- „Çµ„Éñ„Çµ„É†„Éç„Ç§„É´ÔºàË™¨ÊòéÁîªÂÉèÔºâ -->
                                <ul class="addon sub-images" data-entry-sub-images>
                                </ul>
                                <p class="addon entry-summary" data-entry-summary>

                                </p>
                                <div>
                                    <a class="addon entry-assetlib-link link" href="" data-entry-assetlib-link></a>
                                </div>
                            </div>
                        </div>
                        <footer class="addon entry-footer">
                        <span class="last-updated-label">
                            ÊúÄÁµÇÊõ¥Êñ∞Êó•:
                        </span>
                            <time class="last-updated" datetime="" data-entry-last-updated></time>
                            <span class="last-updated-label-list" data-entry-last-updated-list-label>
                            ‰∏ÄË¶ßËøΩÂä†Êó•:
                        </span>
                            <time class="last-updated-list" datetime="" data-entry-last-updated-list></time>
                            <br>
                            <span class="addon entry-languages-label" data-entry-languages-label>
                            „É™„Éù„Ç∏„Éà„É™ÂÜÖË®≥:
                            <span class="addon entry-languages" data-entry-languages></span>
                        </span>
                        </footer>
                    </div>
                    <!--                <a class="addon entry-link" href=""></a>-->
                </div>
            </li>
        </ul>
    </div>
</article>
<script>

    <!-- prettier-ignore-start -->
    const DataList = {{ readFile "static/data/addon.json" | safeJS }};
    const DatalistEntries = Object.entries(DataList);
    let FilteredDataList = DatalistEntries;
    const TagsTrList = {{ readFile "static/data/tag_translation.json" | safeJS }};

    const DefaultThumbnail = "{{ "/icon/EditorPlugin.svg" | relURL }}";
    const YoutubeIcon = "{{ "/images/youtube_social_squircle_red.png" | relURL }}";

    const ThumbnailImageDirPath = "{{ "/images/addon/thumbnails/" | relURL }}";
    const ImageMovieThumbnailImageDirPath = "{{ "/images/addon/imagethumbnails/" | relURL }}";
    const ImageMovieOrgImageDirPath = "{{ "/images/addon/images/" | relURL }}";
    <!-- prettier-ignore-end -->

    document.addEventListener('DOMContentLoaded', () => {
        // „ÇΩ„Éº„Éà„ÅÆ„Çª„É¨„ÇØ„Éà„ÅåÂ§âÊõ¥„Åï„Çå„Åü„Çâupdate„ÇíÂëº„Å≥Âá∫„Åô
        document.querySelector('select#addon-order').addEventListener('change', update);
        // Êù°‰ª∂„Çø„Ç∞„ÇíÁîüÊàê
        createTags();

        // Èô§Â§ñ„Çø„Ç∞„ÇíË§áË£Ω„Åó„Å¶ÁîüÊàê„Åô„Çã
        duplicateToExcludeConditionElms();

        // URL„ÅÆ„ÇØ„Ç®„É™„Éë„É©„É°„Éº„Çø„ÇíÊù°‰ª∂„ÉªË®≠ÂÆö„Å´ÈÅ©Áî®
        applyURLParamToConditions();

        // ‰∏ÄË¶ß„Éá„Éº„Çø„ÅÆÂàùÂõûË°®Á§∫
        update();

        // „Ç´„Éº„Éâ„É¨„Ç§„Ç¢„Ç¶„Éà(„Ç´„É©„É†Êï∞)„ÇíÊõ¥Êñ∞
        updateLayout();

        // „Ç¶„Ç£„É≥„Éâ„Ç¶„É™„Çµ„Ç§„Ç∫ÊôÇ„Å´„Ç´„Éº„Éâ„É¨„Ç§„Ç¢„Ç¶„Éà(„Ç´„É©„É†Êï∞)„ÇíÊõ¥Êñ∞
        window.addEventListener('resize', updateLayout);

        // Êäò„Çä„Åü„Åü„Åø„Éú„Çø„É≥
        const collapseBtns = document.querySelectorAll('[data-collapse-btn]');
        collapseBtns.forEach(btn => {
            // Ë°åÂÖ®‰Ωì„Çí„ÇØ„É™„ÉÉ„ÇØÊôÇ„Å´„Åó„Åü„ÅÑ„ÅÆ„Åß„ÄÅ„Éú„Çø„É≥„ÅÆË¶™Ë¶ÅÁ¥†„Å´„Ç§„Éô„É≥„Éà„ÇíË®≠ÂÆö„Åô„Çã
            btn.parentElement.addEventListener('click', () => {
                toggleCollapse(btn);
            });
            btn.parentElement.style.cursor = 'pointer';
            btn.parentElement.style.display = 'inline-block';
        });

        // ‰∏äÈÉ®„Éî„É≥Áïô„ÇÅ„Éú„Çø„É≥
        document.getElementById("PinBtn").addEventListener('click', () => {
            event.preventDefault();
            event.stopPropagation();
            const filterContainer = document.querySelector('.filter-container');
            filterContainer.classList.toggle('fixed-top');
            const pinBtn = document.querySelector('[data-pin-btn]');
            pinBtn.classList.toggle('pin-on');
        });

        // „Çø„Ç∞„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅåÂ§âÊõ¥„Åï„Çå„Åü„Çâupdate„ÇíÂëº„Å≥Âá∫„Åô
        document.querySelectorAll('[data-check-tag]').forEach(function (el) {
            el.addEventListener('change', update);
        });
        // „Éï„Ç£„É´„Çø„Éº„ÅÆ„É©„Ç∏„Ç™„Éú„Çø„É≥„ÅåÂ§âÊõ¥„Åï„Çå„Åü„Çâupdate„ÇíÂëº„Å≥Âá∫„Åô
        document.querySelectorAll('input[name="filter"]').forEach(function (el) {
            el.addEventListener('change', update);
        });

        //‰∏ä„Å´„Çπ„ÇØ„É≠„Éº„É´„Åô„Çã
        window.scrollTo({
            top: 0,
            behavior: 'instant'
        });
    });

    /**
     * ÂÖ®Ê§úÁ¥¢ÂØæË±°„Éá„Éº„ÇøJSON„Åã„Çâ‰∏ÄË¶ß„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞
     */
    function update() {
        const selectedTags = Array.from(document.querySelectorAll('input[name="tag"]:checked')).map(el => el.value);
        const filteredList = document.getElementById('AddonFilteredList');
        const template = document.querySelector('li[data-template]');

        const specialTags = Array.from(document.querySelectorAll('input[name="specialTag"]:checked')).map(el => el.value);
        const licenseTags = Array.from(document.querySelectorAll('input[name="licenseTag"]:checked')).map(el => el.value);

        const selectedExcludeTags = Array.from(document.querySelectorAll('input[name="excludeTag"]:checked')).map(el => el.value);
        const specialExcludeTags = Array.from(document.querySelectorAll('input[name="excludespecialTag"]:checked')).map(el => el.value);
        const licenseExcludeTags = Array.from(document.querySelectorAll('input[name="excludelicenseTag"]:checked')).map(el => el.value);
        // ‰∏ÄÊó¶„É™„Çπ„Éà„ÇíÁ©∫„Å´„Åô„Çã
        filteredList.innerHTML = '';

        let query = new URLSearchParams();
        selectedTags.forEach(tag => {
            query.append('tag', tag);
        });
        selectedExcludeTags.forEach(tag => {
            query.append('excludeTag', tag);
        });
        licenseTags.forEach(tag => {
            query.append('licensetag', tag);
        });

        const filterType = document.querySelector('input[name="filter"]:checked').value;
        query.append('filter', filterType);

        const order = document.querySelector('select#addon-order').value;
        query.append('order', order);

        const searchTarget = document.getElementById('SearchTarget').value;
        const search = document.getElementById('SearchInput').value;
        query.append('search', search);
        query.append('searchTarget', searchTarget);

        history.replaceState(null, '', `?${query.toString()}`);

        let count = 0;

        const locale = "{{ site.Language.Lang }}";

        const templategithub = document.querySelector('[data-github-template]');
        const templategitlab = document.querySelector('[data-gitlab-template]');
        const templateotherlink = document.querySelector('[data-otherlink-template]');
        const templatestar = document.querySelector('[data-star-template]');

        FilteredDataList = Object.entries(DataList)
            .filter(([key, value]) => {
                //specialTags
                //Tags
                if (key === 'tags') {
                    return false;
                }
                //specialTags
                if (specialTags.length === 0) {
                    return true;
                }

                if (filterType === 'or') {
                    return specialTags.some(tag => {
                        return checkConditionNotTag(tag, value);
                    });
                } else if (filterType === 'and') {
                    return specialTags.every(tag => {
                        return checkConditionNotTag(tag, value);
                    });
                }
                console.error('filter error');
            })
            .filter(([key, value]) => {
                //licenseTags
                if (licenseTags.length === 0) {
                    return true;
                }
                if (filterType === 'or') {
                    return licenseTags.some(tag => {
                        if (value.license_override !== "") {
                            return tag === value.license_override;
                        } else if (value.license !== "") {
                            return tag === value.license;
                        }
                    });
                } else if (filterType === 'and') {
                    return licenseTags.every(tag => {
                        if (value.license_override !== "") {
                            return tag === value.license_override;
                        } else if (value.license !== "") {
                            return tag === value.license;
                        }
                    });
                }
            })
            .filter(([key, value]) => {
                // Ëá™ÂãïÁîüÊàêÈÄöÂ∏∏„Çø„Ç∞
                return (filterType === 'or' && selectedTags.some(tag => value.tags.includes(tag))) || (filterType === 'and' && selectedTags.length === 0 || selectedTags.every(tag => value.tags.includes(tag)));
            })
            .filter(([key, value]) => {
                //specialExcludeTags
                //specialTags
                if (specialExcludeTags.length === 0) {
                    return true;
                }

                return specialExcludeTags.every(tag => {
                    return !checkConditionNotTag(tag, value);
                });
            })
            .filter(([key, value]) => {
                //licenseTags
                if (licenseExcludeTags.length === 0) {
                    return true;
                }
                return licenseExcludeTags.every(tag => {
                    if (value.license_override !== "") {
                        return tag !== value.license_override;
                    } else if (value.license !== "") {
                        return tag !== value.license;
                    }
                });
            })
            .filter(([key, value]) => {
                // Ëá™ÂãïÁîüÊàêÈô§Â§ñTag
                return (selectedExcludeTags.length === 0 || selectedExcludeTags.every(tag => !value.tags.includes(tag)));
            })
            .filter(([key, value]) => {
                // Ê§úÁ¥¢
                if (search === '') {
                    return true;
                }
                //ÈÉ®ÂàÜ‰∏ÄËá¥
                if (searchTarget === 'any') {
                    return value.title.toLowerCase().includes(search.toLowerCase())
                        || value.owner.toLowerCase().includes(search.toLowerCase())
                        || value.summary_ja.toLowerCase().includes(search.toLowerCase());

                } else if (searchTarget === 'title') {
                    return value.title.toLowerCase().includes(search.toLowerCase());
                } else if (searchTarget === 'author') {
                    return value.owner.toLowerCase().includes(search.toLowerCase());
                } else if (searchTarget === 'summary') {
                    return value.summary_ja.toLowerCase().includes(search.toLowerCase());
                }
            })
            .sort((a, b) => {
                if (order === 'title-asc') {
                    return a[1].title.localeCompare(b[1].title, locale, {sensitivity: 'base'});
                } else if (order === 'title-desc') {
                    return b[1].title.localeCompare(a[1].title, locale, {sensitivity: 'base'});
                } else if (order === 'author-asc') {
                    if (a[1].owner === undefined || a[1].owner === null) {
                        return 1;
                    } else if (b[1].owner === undefined || b[1].owner === null) {
                        return -1;
                    }
                    return a[1].owner.localeCompare(b[1].owner, locale, {sensitivity: 'base'});
                } else if (order === 'author-desc') {
                    if (a[1].owner === undefined || a[1].owner === null) {
                        return 1;
                    } else if (b[1].owner === undefined || b[1].owner === null) {
                        return -1;
                    }
                    return b[1].owner.localeCompare(a[1].owner, locale, {sensitivity: 'base'});
                } else if (order === 'add-addon-desc') {
                    return new Date(b[1].listed_at) - new Date(a[1].listed_at);
                } else if (order === 'add-addon-asc') {
                    return new Date(a[1].listed_at) - new Date(b[1].listed_at);
                } else if (order === 'updated-addon-desc') {
                    // Date„Åß„Å™„ÅÑ„ÇÇ„ÅÆ„ÅØÊúÄÂæå„Å´Ë°®Á§∫„Åï„Çå„Çã
                    if (a[1].last_updated === "") {
                        return 1;
                    } else if (b[1].last_updated === "") {
                        return -1;
                    }
                    return new Date(b[1].last_updated) - new Date(a[1].last_updated);
                } else if (order === 'updated-addon-asc') {
                    // Date„Åß„Å™„ÅÑ„ÇÇ„ÅÆ„ÅØÊúÄÂæå„Å´Ë°®Á§∫„Åï„Çå„Çã
                    if (a[1].last_updated === "") {
                        return 1;
                    } else if (b[1].last_updated === "") {
                        return -1;
                    }
                    return new Date(a[1].last_updated) - new Date(b[1].last_updated);
                } else if (order === 'stars-desc') {
                    return b[1].stars - a[1].stars;
                } else if (order === 'stars-asc') {
                    return a[1].stars - b[1].stars;
                }
            })

        FilteredDataList.forEach(function ([key, value]) {
            if (value.title === undefined || value.title === null) {
                return;
            }

            const clone = template.cloneNode(true);

            // „Çø„Ç§„Éà„É´
            const title = clone.querySelector('[data-entry-title]');
            const a = title.querySelector('[data-entry-title-link]');
            a.href = value.url;

            // „Çπ„Çø„ÉºÊï∞
            if (value.repo_type !== 'github') {

            } else if (value.stars !== undefined && value.stars !== null) {
                const star = templatestar.cloneNode(true);
                star.appendChild(document.createTextNode(value.stars));
                title.appendChild(star);
                // 500‰ª•‰∏ä„ÅÆÂ†¥Âêà„ÅØÊøÉ„ÅÑËµ§Ëâ≤„Å´„Åô„Çã
                if (value.stars >= 500) {
                    star.style.color = 'crimson';
                } else if (value.stars >= 100) {
                    star.style.color = 'orange';
                } else if (value.stars >= 50) {
                    star.style.color = 'green';
                }
            }

            // „Çø„Ç§„Éà„É´„Ç¢„Ç§„Ç≥„É≥ GitHub or GitLab or Other
            const entryIcon = title.querySelector('[data-entry-icon]');
            if (value.repo_type === 'github') {
                const cloneIcon = templategithub.cloneNode(true);
                entryIcon.appendChild(cloneIcon);
            } else if (value.repo_type === 'gitlab') {
                const cloneIcon = templategitlab.cloneNode(true);
                entryIcon.appendChild(cloneIcon);
            } else {
                const cloneIcon = templateotherlink.cloneNode(true);
                entryIcon.appendChild(cloneIcon);
            }

            // „Çø„Ç§„Éà„É´
            a.appendChild(document.createTextNode(value.title));

            // ‰ΩúËÄÖ
            if (value.repo_type !== 'unknown' && value.owner !== undefined && value.owner !== null) {
                if (value.owner === 'unknown') {
                    //entry-author-label„ÅÆÂâäÈô§
                    const authorLabel = clone.querySelector('[data-entry-author-label]');
                    authorLabel.style.display = 'none';
                } else {
                    const author = clone.querySelector('[data-entry-author]');
                    author.textContent = value.owner;
                }
            } else {
                //entry-author-label„ÅÆÂâäÈô§
                const authorLabel = clone.querySelector('[data-entry-author-label]');
                authorLabel.style.display = 'none';
            }

            // „É©„Ç§„Çª„É≥„Çπ

            if (value.license_override !== undefined &&
                value.license_override !== null &&
                value.license_override !== "") {
                const license = clone.querySelector('[data-entry-license]');
                license.textContent = value.license_override;
            } else if (value.license !== undefined &&
                value.license !== null &&
                value.license !== "") {
                const license = clone.querySelector('[data-entry-license]');
                license.textContent = value.license;
            } else {
                //entry-license„ÅÆÂâäÈô§
                const license = clone.querySelector('[data-entry-license]');
                license.style.display = 'none';
            }

            // „Çø„Ç∞
            const tagList = clone.querySelector('[data-entry-tags]');
            if (value.tags !== undefined && value.tags !== null) {
                value.tags.forEach(tag => {
                    try {
                        const li = document.createElement('li');
                        li.textContent = TagsTrList[tag].ja;
                        tagList.appendChild(li);
                    } catch (e) {
                        console.warn(`Tag translation not found: ${tag}`);
                        console.error(e);
                    }
                });
            }

            // „Çµ„É†„Éç„Ç§„É´
            const thumbnail = clone.querySelector('[data-entry-thumbnail-image]');
            if (value.has_thumbnail) {
                thumbnail.src = ThumbnailImageDirPath + value.id + ".webp"
            } else {
                thumbnail.src = DefaultThumbnail;
            }

            // „Çµ„Éñ„Çµ„É†„Éç„Ç§„É´(Ë™¨ÊòéÁîªÂÉè)
            const subimages = clone.querySelector('[data-entry-sub-images]');
            if (value.images !== undefined
                && value.images !== null
                && value.images.length > 0
            ) {
                value.images.forEach((thumbnail_extension, index) => {
                    const subThumbnail = document.querySelector('li[data-sub-thumbnail-template]').cloneNode(true);
                    const img = subThumbnail.querySelector('img');
                    const a = subThumbnail.querySelector('a');
                    const fileNameIndexStr = index === 0 ? "" : "_" + (index + 1).toString();

                    a.dataset.key = key;
                    a.dataset.index = index;
                    if (!['png', 'jpg', 'jpeg', 'webp', 'mp4', 'gif', "mov"].includes(thumbnail_extension)) {
                        // youtube
                        a.href = thumbnail_extension
                        img.src = YoutubeIcon;
                    } else {
                        a.href = ImageMovieThumbnailImageDirPath + value.id + fileNameIndexStr + "." + thumbnail_extension
                        img.src = ImageMovieThumbnailImageDirPath + value.id + fileNameIndexStr + ".webp";
                    }
                    subimages.appendChild(subThumbnail);
                });
            } else {
                // 0‰ª∂„ÅÆÂ†¥Âêà„ÅØ„Çµ„Éñ„Çµ„É†„Éç„Ç§„É´„ÅÆÈùûË°®Á§∫
                subimages.style.display = 'none';
            }

            // Ê¶ÇË¶Å
            clone.querySelector('[data-entry-summary]').innerHTML = value.summary_ja;

            // AssetLib„É™„É≥„ÇØ
            const assetlibLink = clone.querySelector('[data-entry-assetlib-link]');
            if (value.is_exists_assetlib && value.assetlib_path) {
                assetlibLink.href = value.assetlib_path;
                assetlibLink.textContent = 'AssetLib';
            } else {
                assetlibLink.style.display = 'none';
            }

            // „Éó„É≠„Ç∞„É©„É†Ë®ÄË™û
            const languages = clone.querySelector('[data-entry-languages]');
            if (value.languages !== undefined && value.languages !== null) {
                if (Object.keys(value.languages).length === 0) {
                    //entry-languages-label„ÅÆÂâäÈô§
                    const entryLanguagesLabel = clone.querySelector('[data-entry-languages-label]');
                    entryLanguagesLabel.style.display = 'none';

                    //entry-languages„ÅÆÂâäÈô§
                    const entryLanguages = clone.querySelector('[data-entry-languages]');
                    entryLanguages.style.display = 'none';
                }

                const lang = Object.entries(value.languages).map(([key, value]) => {
                    // const valueWithComma = value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                    // KÂçò‰Ωç„ÅßË°®Á§∫
                    const valueWithK = (value / 1000).toFixed(1);
                    return `${key}=${valueWithK}k`;
                }).join(', ');
                languages.textContent = lang;
            } else {
                //entry-languages-label„ÅÆÂâäÈô§
                const entryLanguagesLabel = clone.querySelector('[data-entry-languages-label]');
                entryLanguagesLabel.style.display = 'none';

                //entry-languages„ÅÆÂâäÈô§
                const entryLanguages = clone.querySelector('[data-entry-languages]');
                entryLanguages.style.display = 'none';
            }


            // ÊúÄÁµÇËøΩÂä†Êó•
            if (value.listed_at !== undefined && value.listed_at !== null) {
                const lastUpdatedList = clone.querySelector('[data-entry-last-updated-list]');
                lastUpdatedList.textContent = new Date(value.listed_at).toLocaleDateString();
            } else {
                //last-updated-label„ÅÆÂâäÈô§
                const lastUpdatedLabelList = clone.querySelector('[data-entry-last-updated-list-label]');
                lastUpdatedLabelList.style.display = 'none';
            }

            // ÊúÄÁµÇÊõ¥Êñ∞Êó•
            if (value.repo_type !== 'unknown' && value.last_updated !== undefined && value.last_updated !== null) {
                const lastUpdated = clone.querySelector('[data-entry-last-updated]');
                const lastUpdateDate = new Date(value.last_updated);

                // Êó•‰ªò„ÅåÊú™Ë®≠ÂÆö„ÅÆÂ†¥Âêà„ÅØË°®Á§∫„Åó„Å™„ÅÑ
                if (isNaN(lastUpdateDate)) {
                    //last-updated-label„ÅÆÂâäÈô§
                    const lastUpdatedLabel = clone.querySelector('[data-entry-last-updated]');
                    lastUpdatedLabel.style.display = 'none';
                } else {

                    //Êõ¥Êñ∞„Åå„Å™„ÅÑÈñì„ÅÆÊúüÈñì„ÇíÁÆóÂá∫„Åó„Å¶Ë°®Á§∫„Åô„Çã
                    const now = new Date();
                    const diff = now - lastUpdateDate;
                    const diffDays = diff / (1000 * 60 * 60 * 24);
                    if (diffDays < 1) {
                        lastUpdated.textContent = lastUpdateDate.toLocaleDateString() + " " + lastUpdateDate.toLocaleTimeString() + ` ${Math.floor(diff / (1000 * 60 * 60))}ÊôÇÈñìÂâç`;
                        lastUpdated.style.color = 'green';
                    } else if (diffDays < 30) {
                        lastUpdated.textContent = lastUpdateDate.toLocaleDateString() + ` ${Math.floor(diffDays)}Êó•Ââç`;
                        lastUpdated.style.color = 'green';
                    } else if (diffDays < 365) {
                        lastUpdated.textContent = lastUpdateDate.toLocaleDateString() + ` ${Math.floor(diffDays)}Êó•Ââç`;
                    } else {
                        lastUpdated.textContent = lastUpdateDate.toLocaleDateString() + ` ${Math.floor(diffDays / 30)}„É∂ÊúàÂâç`;
                    }
                }
            }


            // data-templateÂ±ûÊÄß„ÇíÂâäÈô§
            clone.removeAttribute('data-template');
            filteredList.appendChild(clone);
            count++;
        });

        document.getElementById('AddonCount').textContent = `${count} ‰ª∂`;

        // Lightbox = GLightbox({
        //     touchNavigation: true,
        //     loop: true,
        //     autoplayVideos: true
        // });

        updateTags();
    }

    /**
     * „Çø„Ç∞JSON„Åã„Çâ„Çø„Ç∞„ÇíÁîüÊàê
     */
    function createTags() {
        const tagTemplate = document.querySelector('li[data-tag-template]');
        const fragment = document.createDocumentFragment();

        const licenseTagTemplate = document.querySelector('li[data-license-tag-template]');
        const licenseFragment = document.createDocumentFragment();
        const licenseTags = new Set();
        const locale = "{{ site.Language.Lang }}";
        DataList.tags
            .sort((a, b) => {
                let localedA = TagsTrList[a].ja;
                let localedB = TagsTrList[b].ja;
                return localedA.localeCompare(localedB, locale, {sensitivity: 'base'})
            })
            .forEach(tag => {
                const clone = tagTemplate.cloneNode(true);
                const input = clone.querySelector('[data-tag-checkbox]');
                input.value = tag;

                // „Çø„Ç∞„ÅÆ„É©„Éô„É´„Å´ÁøªË®≥„ÇíË®≠ÂÆö
                const label = clone.querySelector('[data-tag-label]');
                label.dataset.generatedTag = "";
                try {
                    const span = label.querySelector('[data-tag-label-text]');
                    if (locale === "ja") {
                        span.innerText = TagsTrList[tag].ja;
                    } else if (locale === "ko") {
                        span.innerText = TagsTrList[tag].ko;
                    } else {
                        span.innerText = TagsTrList[tag].en;
                    }
                } catch (e) {
                    console.error(`Tag translation not found: ${tag}`);
                }

                clone.removeAttribute('data-tag-template');
                clone.style.display = '';

                // „Çø„Ç∞„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅåÂ§âÊõ¥„Åï„Çå„Åü„Çâupdate„ÇíÂëº„Å≥Âá∫„Åô
                input.addEventListener('change', update);

                fragment.appendChild(clone);
            });

        document.getElementById("FilterTags").appendChild(fragment);

        Object.entries(DataList).forEach(([key, value]) => {
            if (value.license_override && value.license_override !== "") {
                licenseTags.add(value.license_override);
            } else if (value.license) {
                licenseTags.add(value.license);
            }
        });
        Array.from(licenseTags)
            .sort()
            .forEach(license => {
                const clone = licenseTagTemplate.cloneNode(true);
                const input = clone.querySelector('[data-tag-checkbox]');
                input.value = license;

                const label = clone.querySelector('[data-tag-label]');
                label.dataset.generatedLicenseTag = "";
                const span = label.querySelector('[data-tag-label-text]');
                span.innerText = license;

                clone.removeAttribute('data-license-tag-template');
                clone.style.display = '';

                // „Çø„Ç∞„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅåÂ§âÊõ¥„Åï„Çå„Åü„Çâupdate„ÇíÂëº„Å≥Âá∫„Åô
                input.addEventListener('change', update);

                licenseFragment.appendChild(clone);
            });

        document.getElementById("FilterLicenseTags").appendChild(licenseFragment);
    }

    /**
     * „Çø„Ç∞„ÅÆ„Éá„Éº„ÇøÊï∞„ÇíÊõ¥Êñ∞
     */
    function updateTags() {
        // ÊúÄÂàù„Åã„Çâ„ÅÇ„Çã„Çø„Ç∞„ÅÆ„Éá„Éº„ÇøÊï∞„ÇíÊõ¥Êñ∞„Åô„Çã
        document.querySelectorAll('[data-commonly-tag]').forEach(el => {
                const tag = el.querySelector('input').value;
                const count = FilteredDataList.filter(([key, value]) => {
                    if (key === 'tags') {
                        return false;
                    }
                    if (value.tags === undefined) {
                        return false;
                    }
                    return value.tags.includes(tag);
                }).length;
                //<sup>1</sup>
                const sup = el.querySelector('sup');
                sup.innerText = `${count}`;

                if (count === 0) {
                    el.classList.add('result-zero-tag');
                } else {
                    el.classList.remove('result-zero-tag');
                }
            }
        );
        document.querySelectorAll('[data-not-tag-condition]').forEach(el => {
                const tag = el.querySelector('input').value;
                const count = FilteredDataList.filter(([key, value]) => {
                    if (key === 'tags') {
                        return false;
                    }
                    if (value.tags === undefined) {
                        return false;
                    }
                    return checkConditionNotTag(tag, value);
                }).length;
                //<sup>1</sup>
                const sup = el.querySelector('sup');
                sup.innerText = `${count}`;
                if (count === 0) {
                    el.classList.add('result-zero-tag');
                } else {
                    el.classList.remove('result-zero-tag');
                }
            }
        );

        document.querySelectorAll("[data-generated-tag]").forEach(el => {
            const tag = el.querySelector('input').value;
            const count = FilteredDataList.filter(([key, value]) => {
                if (key === 'tags') {
                    return false;
                }
                if (value.tags === undefined) {
                    return false;
                }
                return value.tags.includes(tag);
            }).length;
            //<sup>1</sup>
            const sup = el.querySelector('sup');
            sup.innerText = `${count}`;
            if (count === 0) {
                el.classList.add('result-zero-tag');
            } else {
                el.classList.remove('result-zero-tag');
            }
        });

        document.querySelectorAll("[data-generated-license-tag]").forEach(el => {
            const tag = el.querySelector('input').value;
            const count = FilteredDataList.filter(([key, value]) => {
                if (key === 'tags') {
                    return false;
                }
                if (value.tags === undefined) {
                    return false;
                }
                if (value.license_override !== "") {
                    return tag === value.license_override;
                } else if (value.license !== "") {
                    return tag === value.license;
                }
            }).length;
            //<sup>1</sup>
            const sup = el.querySelector('sup');
            sup.innerText = `${count}`;
            if (count === 0) {
                el.classList.add('result-zero-tag');
            } else {
                el.classList.remove('result-zero-tag');
            }
        });
    }

    /**
     * URL„Éë„É©„É°„Éº„Çø„ÇíÊù°‰ª∂„Å´ÈÅ©Áî®
     * @param columnCount
     * @param isMax
     */
    function applyURLParamToConditions() {
        // URL„ÅÆ„ÇØ„Ç®„É™„Éë„É©„É°„Éº„Çø„ÇíÂèñÂæó
        const urlParams = new URLSearchParams(window.location.search);
        const tags = urlParams.getAll('tag');
        tags.forEach(tag => {
            const el = document.querySelector(`input[value="${tag}"]`);
            if (el) {
                el.checked = true;
            }
        });
        const filter = urlParams.get('filter');
        if (filter) {
            const el = document.querySelector(`input[id="${filter}"]`);
            if (el) {
                el.checked = true;
            }
        }
        const order = urlParams.get('order');
        if (order) {
            const el = document.querySelector(`input[id="${order}"]`);
            if (el) {
                el.checked = true;
            }
        }
        const search = urlParams.get('search');
        if (search) {
            const el = document.getElementById('SearchInput');
            if (el) {
                el.value = search;
            }
        }
        const searchTarget = urlParams.get('searchTarget');
        if (searchTarget) {
            const el = document.getElementById('SearchTarget');
            if (el) {
                el.value = searchTarget;
            }
        }
    }

    /**
     * „Çø„Ç∞„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅåÂ§âÊõ¥„Åï„Çå„Åü„Çâupdate„ÇíÂëº„Å≥Âá∫„Åô
     */
    function clearAll() {
        document.querySelectorAll('input[name="tag"]:checked').forEach(el => {
            el.checked = false;
        });
        document.querySelectorAll('input[name="specialTag"]:checked').forEach(el => {
            el.checked = false;
        });
        document.querySelectorAll('input[name="licenseTag"]:checked').forEach(el => {
            el.checked = false;
        });
        document.querySelectorAll('input[name="excludeTag"]:checked').forEach(el => {
            el.checked = false;
        });
        document.querySelectorAll('input[name="excludespecialTag"]:checked').forEach(el => {
            el.checked = false;
        });
        document.querySelectorAll('input[name="excludelicenseTag"]:checked').forEach(el => {
            el.checked = false;
        });
        document.getElementById('SearchInput').value = '';
        document.getElementById('SearchTarget').value = 'any';
        update();
    }

    /**
     * Êäò„Çä„Åü„Åü„ÅøÂá¶ÁêÜ
     * @param btn
     */
    /**
     * Êù°‰ª∂Ë¶ÅÁ¥†„ÇíË§áË£Ω„Åó„Å¶Èô§Â§ñÊù°‰ª∂Ë¶ÅÁ¥†„ÇíËøΩÂä†„Åô„Çã
     */
    function duplicateToExcludeConditionElms() {
        // Èô§Â§ñÊù°‰ª∂„Çí„Ç≥„Éî„Éº„Åô„Çã
        // #ForDuplicateExclude„Çí„Ç≥„Éî„Éº„Åó„Å¶„ÄÅ„Åù„ÅÆÂÜÖ„ÅÆË¶ÅÁ¥†„ÅÆ„Åô„Åπ„Å¶id,name„ÇíÂ§âÊõ¥„Åô„Çã
        const excludeTags = document.getElementById('ExcludeTags');
        const orgExclude = document.getElementById('ForDuplicateExclude');
        const duplicatedExclude = orgExclude.cloneNode(true);
        duplicatedExclude.id = 'duplicated-exclude';
        duplicatedExclude.style.display = 'block';
        duplicatedExclude.querySelectorAll('input').forEach(el => {
            // id, name„ÇíÂ§âÊõ¥
            el.id = `exclude${el.id}`;
            el.name = `exclude${el.name}`;
        });
        //data-collapse-toggle„ÇíÂ§âÊõ¥
        duplicatedExclude.querySelectorAll('[data-collapse-toggle]').forEach(el => {
            el.dataset.collapseToggle = '';
        });

        //„Åô„Åπ„Å¶„ÅÆ„Çø„Ç∞Ë°®Á§∫„ÅÆ„ÉÜ„Ç≠„Çπ„Éà,Ëâ≤„ÇíÂ§âÊõ¥
        duplicatedExclude.querySelectorAll('[data-tag-head]').forEach(el => {
            el.textContent += '(Èô§Â§ñ)';
            el.style.color = 'red';
        });

        excludeTags.appendChild(duplicatedExclude);
    }

    /**
     * „Ç´„Éº„Éâ„É¨„Ç§„Ç¢„Ç¶„Éà(„Ç´„É©„É†Êï∞)„ÇíÊõ¥Êñ∞„Åô„Çã
     */
    function updateLayout() {
        const container = document.getElementById('AddonFilteredList');
        const controls = document.getElementById('ColControls');
        const itemWidth = 740;

        const containerParentWidth = container.clientWidth;

        // const maxColumns = Math.floor(containerParentWidth / itemWidth);
        // gap„ÇíËÄÉÊÖÆ„Åô„Çã 20px
        const maxColumns = Math.floor(containerParentWidth / itemWidth);

        //ÂàùÊúüÂåñ
        controls.innerHTML = '';

        // „É©„Ç∏„Ç™„Éú„Çø„É≥„ÅÆÊõ¥Êñ∞
        for (let i = 1; i <= maxColumns; i++) {
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = `Col${i}`;
            radio.name = 'columns';
            radio.value = i;
            radio.addEventListener('change', () => applyColumnCount(i, i === maxColumns));

            const label = document.createElement('label');
            label.htmlFor = `Col${i}`;

            label.appendChild(radio);
            controls.appendChild(label);

            let text = i.toString();
            if (i === maxColumns) {
                text = 'ÂπÖ„ÅÑ„Å£„Å±„ÅÑ';
            }
            label.appendChild(document.createTextNode(text));
        }

        // „Éá„Éï„Ç©„É´„Éà„ÅßÊúÄÂ§ßÂàóÊï∞„ÇíÈÅ∏Êäû
        const defaultRadio = document.getElementById(`Col${maxColumns}`);
        if (defaultRadio) {
            defaultRadio.checked = true;
            applyColumnCount(maxColumns, true);
        }
    }

    /**
     * „Ç´„É©„É†Êï∞„ÇíÊõ¥Êñ∞„Åô„Çã
     * @param columnCount
     * @param isMax
     */
    function applyColumnCount(columnCount, isMax = false) {
        const container = document.getElementById('AddonFilteredList');
        const itemWidth = 740;
        container.style.gridTemplateColumns = `repeat(${columnCount}, ${itemWidth}px)`;
    }

    /**
     * ÁâπÂà•„Å™Âà§ÂÆö„Çí„Åô„Çã„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅÆÊù°‰ª∂„ÇíÊ∫Ä„Åü„Åô„Åã„Å©„ÅÜ„Åã
     * @param tag
     * @param value
     * @returns {*|boolean}
     */
    function checkConditionNotTag(tag, value) {
        if (tag === 'assetlib') {
            return value.is_exists_assetlib;
        } else if (tag === 'notassetlib') {
            return value.is_exists_assetlib || value.assetlib_path === '';
        } else if (tag === 'github') {
            return value.repo_type === 'github';
        } else if (tag === 'gitlab') {
            return value.repo_type === 'gitlab';
        } else if (tag === 'other') {
            return value.repo_type !== 'github' && value.repo_type !== 'gitlab';
        } else if (tag === 'notdemo') {
            if (value.tags === undefined) {
                return false;
            }
            return !value.tags.includes('demo');
        } else if (tag === 'withsummary') {
            return value.summary_ja !== '' && value.summary_ko !== '' && value.summary_en !== '';
        }
    }

    /**
     * GLightbox„Çí‰Ωø„Å£„Å¶ÁîªÂÉè„ÇíË°®Á§∫„Åô„Çã
     * @returns {boolean}
     */
    function showImagesLightBox() {
        const clicked = event.target;

        const data = DataList[clicked.dataset.key];
        const elements = data.images.map((thumbnail_extension, index) => {

            // ÁîªÂÉè
            if (['png', 'jpg', 'jpeg', 'webp', "gif"].includes(thumbnail_extension)) {
                const fileNameIndexStr = index === 0 ? "" : "_" + (index + 1).toString();
                return {
                    href: ImageMovieOrgImageDirPath + data.id + fileNameIndexStr + "." + thumbnail_extension,
                    type: 'image'
                };
            } else if (['mp4', 'webm', "mov"].includes(thumbnail_extension)) {
                const fileNameIndexStr = index === 0 ? "" : "_" + (index + 1).toString();
                return {
                    href: ImageMovieOrgImageDirPath + data.id + fileNameIndexStr + "." + thumbnail_extension,
                    type: 'video'
                };
            } else {
                // youtube
                return {
                    href: thumbnail_extension,
                    type: 'video'
                };
            }
        });
        GLightbox(
            {
                elements: elements,
                touchNavigation: true,
                loop: true,

                autoplayVideos: true
            }
        ).openAt(clicked.dataset.index);

        return false;
    }
</script>

{{- end }}{{/* end main */}}